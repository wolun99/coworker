"use strict";(self["webpackChunkcowork"]=self["webpackChunkcowork"]||[]).push([[822],{9822:function(t,n,e){e.r(n),e.d(n,{default:function(){return U}});var o=e(3396);const i={class:"inner"},s=(0,o._)("h2",{class:"title"},"글등록",-1);function r(t,n,e,r,a,c){const d=(0,o.up)("Write");return(0,o.wg)(),(0,o.iD)("div",i,[s,(0,o.Wm)(d)])}var a=e(9242);const c=t=>((0,o.dD)("data-v-ae51de80"),t=t(),(0,o.Cn)(),t),d={class:"write_wrap"},l={class:"title_wrap"},u=c((()=>(0,o._)("label",{for:"title"},"제목",-1))),h={class:"content_wrap"},p=c((()=>(0,o._)("label",{for:"content"},"내용",-1))),m={class:"btn_wrap"};function w(t,n,e,i,s,r){return(0,o.wg)(),(0,o.iD)("div",d,[(0,o._)("form",{action:"",onSubmit:n[4]||(n[4]=(0,a.iM)(((...n)=>t.submitForm&&t.submitForm(...n)),["prevent"]))},[(0,o._)("div",l,[u,(0,o.wy)((0,o._)("input",{type:"text",id:"title","onUpdate:modelValue":n[0]||(n[0]=t=>s.title=t)},null,512),[[a.nr,s.title]])]),(0,o._)("div",h,[p,(0,o.wy)((0,o._)("textarea",{name:"content",id:"content",cols:"30",rows:"10","onUpdate:modelValue":n[1]||(n[1]=t=>s.content=t)},"\r\n\t\t\t\t",512),[[a.nr,s.content]])]),(0,o._)("div",m,[(0,o._)("button",{onClick:n[2]||(n[2]=t=>r.submitContent())},"등록하기"),(0,o._)("button",{onClick:n[3]||(n[3]=t=>r.cancelWrite())},"취소하기")])],32)])}e(7658);var _=e(2304),b=e(6035),I={name:"WriteComponent",data(){return{title:"",content:"",contentId:null}},methods:{cancelWrite(){this.$router.push("/")},async submitContent(){try{const t=(0,b.hJ)(_.db,"lists");await(0,b.pl)((0,b.JU)(t,`content ${this.contentId}`),{title:this.title,content:this.content,uid:this.$store.state.userUid,nickname:this.$store.state.userName,contentId:this.contentId}),this.updateId(),this.$router.push("/")}catch(t){console.error("Error adding document: ",t)}},async getId(){const t=(0,b.JU)(_.db,"listId","listId"),n=await(0,b.QT)(t),e=n.data();this.contentId=e.id},async updateId(){const t=(0,b.JU)(_.db,"listId","listId");await(0,b.r7)(t,{id:this.contentId+1})}},mounted(){this.getId()}},v=e(89);const f=(0,v.Z)(I,[["render",w],["__scopeId","data-v-ae51de80"]]);var k=f,C={components:{Write:k}};const y=(0,v.Z)(C,[["render",r]]);var U=y}}]);
//# sourceMappingURL=822.16cecb21.js.map